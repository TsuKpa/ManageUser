<h3>Create Users</h3>

  <form (ngSubmit)="onSubmit()" #ngForm="ngForm">

    <div class="form-group">
      <label for="email">Email</label>
      <input type="text" class="form-control" required
             [(ngModel)]="user.email"  [ngModelOptions]="{standalone: true}" id="email">
    </div>


    <div class="form-group">
      <label for="password">Password</label>
      <input  type="password" class="form-control" id="password" required
             [(ngModel)]="user.password" [ngModelOptions]="{standalone: true}" name="passWord">
    </div>


    <div class="form-group">
      <label for="fullname">Full Name</label>
      <input  type="text" class="form-control" id="fullname" required
             [(ngModel)]="user.fullname" [ngModelOptions]="{standalone: true}" name="fullName">
    </div>

    <div class="form-group">
      <label for="phone">Phone</label>
      <input  type="text" class="form-control" id="phone" required
             [(ngModel)]="user.phone" [ngModelOptions]="{standalone: true}" name="phone">
    </div>

    <div class="form-group">
      <label for="avatar">Avatar</label>
      <input  type="text" class="form-control" id="avatar" required
             [(ngModel)]="user.avatar" [ngModelOptions]="{standalone: true}" name="avatar">
    </div>

    <div class="form-group">
      <label for="bio">Bio</label>
      <input  type="text" class="form-control" id="bio" required
             [(ngModel)]="user.bio" [ngModelOptions]="{standalone: true}" name="bio">
    </div>


    <div class="form-group" *ngIf="isAdmin">
      <label>Role</label><br>
      <select [(ngModel)]="user.role"  [ngModelOptions]="{standalone: true}" (ngModelChange)="modelChanged($event)">
        <option *ngFor="let r of roles" [ngValue]="r._id">{{r.name}}</option>
      </select>
    </div>

    <div class="form-group" *ngIf="isAdmin">
      <label>Functions</label>
      <br>
      <ul>
        <li *ngFor="let f of fn">
          {{f.description}}
        </li>
      </ul>
    </div>

    <span *ngIf="emailWrong">Email is taken</span>
    <span *ngIf="emsg">Something wrong, please check again</span>
    <br>
    <br>
    <button type="submit" mat-flat-button color="primary" [disabled]="!ngForm.valid">Submit</button>
  </form>

